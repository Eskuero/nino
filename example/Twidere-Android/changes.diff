diff --git a/build.gradle b/build.gradle
index 556973735..4d27c232e 100644
--- a/build.gradle
+++ b/build.gradle
@@ -6,7 +6,7 @@ buildscript {
         maven { url 'https://maven.google.com' }
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:3.0.0'
+        classpath 'com.android.tools.build:gradle:3.1.2'
         // NOTE: Do not place your application dependencies here; they belong
         // in the individual module build.gradle files
     }
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index c9a256fa5..74cfef202 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -3,4 +3,4 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-4.1-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-all.zip
diff --git a/twidere/build.gradle b/twidere/build.gradle
index ea0aaef8a..de8526e81 100644
--- a/twidere/build.gradle
+++ b/twidere/build.gradle
@@ -18,10 +18,6 @@ buildscript {
             // should be excluded to avoid conflict
             exclude group: 'xerces'
         }
-
-        // START Non-FOSS component
-        classpath "com.google.gms:google-services:${pluginVersions['PlayServices']}"
-        // END Non-FOSS component
     }
 }
 
@@ -34,8 +30,8 @@ android {
         applicationId "org.mariotaku.twidere"
         minSdkVersion 14
         targetSdkVersion 26
-        versionCode projectVersionCode
-        versionName projectVersionName
+        versionCode Integer.parseInt(new Date().format("yyMMddHHmm"))
+        versionName new Date().format("yyyy.MM.dd-HH.mm")
         multiDexEnabled true
 
         buildConfigField 'boolean', 'LEAK_CANARY_ENABLED', 'Boolean.parseBoolean("false")'
@@ -56,11 +52,6 @@ android {
     flavorDimensions 'channel'
 
     productFlavors {
-        // START Non-FOSS component
-        google {
-            dimension 'channel'
-        }
-        // END Non-FOSS component
         fdroid {
             dimension 'channel'
         }
@@ -158,18 +149,6 @@ dependencies {
     implementation project(':twidere.component.common')
     implementation project(':twidere.component.nyan')
 
-    // START Non-FOSS component
-    googleImplementation "com.google.android.gms:play-services-maps:${libVersions['PlayServices']}"
-    googleImplementation "com.google.android.gms:play-services-auth:${libVersions['PlayServices']}"
-    googleImplementation "com.google.android.gms:play-services-ads:${libVersions['PlayServices']}"
-    googleImplementation "com.google.maps.android:android-maps-utils:${libVersions['MapsUtils']}"
-    googleImplementation "com.anjlab.android.iab.v3:library:${libVersions['IABv3']}"
-    googleImplementation "com.dropbox.core:dropbox-core-sdk:${libVersions['DropboxCoreSdk']}"
-    googleImplementation("com.google.apis:google-api-services-drive:${libVersions['GoogleDriveApi']}") {
-        exclude group: 'org.apache.httpcomponents'
-    }
-    // END Non-FOSS component
-
     fdroidImplementation "org.osmdroid:osmdroid-android:${libVersions['OSMDroid']}"
     fdroidImplementation "ch.acra:acra:${libVersions['ACRA']}"
 
@@ -300,7 +279,3 @@ task svgToMipmap(type: SvgDrawableTask) {
 
     outputType = 'mipmap'
 }
-
-// START Non-FOSS component
-apply plugin: 'com.google.gms.google-services'
-// END Non-FOSS component
\ No newline at end of file
